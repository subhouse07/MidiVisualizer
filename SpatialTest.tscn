[gd_scene load_steps=29 format=2]

[ext_resource path="res://HStack.tscn" type="PackedScene" id=1]
[ext_resource path="res://AmpStack.tscn" type="PackedScene" id=2]
[ext_resource path="res://OStack.tscn" type="PackedScene" id=3]
[ext_resource path="res://img/frontend-large.jpg" type="Texture" id=4]
[ext_resource path="res://SpatialTest.gd" type="Script" id=5]

[sub_resource type="ParticlesMaterial" id=17]
emission_shape = 2
emission_box_extents = Vector3( 3.282, 0.1, 0.1 )
spread = 0.0
gravity = Vector3( -0.5, 5, 0 )
scale_random = 0.43
color = Color( 0.870588, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=20]
albedo_color = Color( 0.278431, 0.278431, 0.278431, 1 )
metallic = 0.5

[sub_resource type="CubeMesh" id=19]
material = SubResource( 20 )
size = Vector3( 0.05, 0.05, 0.05 )

[sub_resource type="PhysicsMaterial" id=3]
friction = 0.0
bounce = 0.32

[sub_resource type="BoxShape" id=1]
extents = Vector3( 3.47528, 1, 5.48246 )

[sub_resource type="SpatialMaterial" id=4]

[sub_resource type="PhysicsMaterial" id=7]
bounce = 1.0

[sub_resource type="BoxShape" id=5]
extents = Vector3( 3.51011, 0.29541, 0.60835 )

[sub_resource type="SpatialMaterial" id=6]
albedo_texture = ExtResource( 4 )

[sub_resource type="PhysicsMaterial" id=8]
bounce = 1.0

[sub_resource type="PhysicsMaterial" id=9]
bounce = 1.0

[sub_resource type="PhysicsMaterial" id=26]

[sub_resource type="BoxShape" id=10]
extents = Vector3( 3.14125, 2.97875, 0.102362 )

[sub_resource type="PhysicsMaterial" id=25]

[sub_resource type="GDScript" id=21]
script/source = "extends RigidBody

const X = {
	\"max\": 1.6,
	\"min\": -1.5
}

const Y = {
	\"max\": 20.0,
	\"min\": 15.0
}

var start_pos = Vector3()
var rng = RandomNumberGenerator.new()

func _ready():
	rng.randomize()
	init_velocity()

func _process(delta):
	if linear_velocity == Vector3.ZERO:
		init_velocity()

func init_velocity():
	linear_velocity.x = rng.randf_range(-2.0, 2.0)
	linear_velocity.y = rng.randf_range(-2.0, 2.0)
	
#func init_position():
#	translation.x = rng.randf_range(X[\"min\"], X[\"max\"])
#	translation.y = rng.randf_range(Y[\"min\"], Y[\"max\"])
#
#func reset():
#	init_position()

#func dissolve():
#	$RigidBody.mode = RigidBody.MODE_KINEMATIC
#	$RigidBody.linear_velocity = 0
#	$RigidBody.angular_velocity = 0
	
"

[sub_resource type="BoxShape" id=11]
extents = Vector3( 0.854262, 0.123957, 0.151392 )

[sub_resource type="SpatialMaterial" id=13]
albedo_color = Color( 0.352941, 0.592157, 1, 1 )

[sub_resource type="GDScript" id=22]
script/source = "extends RigidBody

const X = {
	\"max\": 1.6,
	\"min\": -1.5
}

const Y = {
	\"max\": 20.0,
	\"min\": 15.0
}

var start_pos = Vector3()
var rng = RandomNumberGenerator.new()

func _ready():
	rng.randomize()
	init_velocity()

func _process(delta):
	if linear_velocity == Vector3.ZERO:
		init_velocity()

func init_velocity():
	linear_velocity.x = rng.randf_range(-2.0, 2.0)
	linear_velocity.y = rng.randf_range(-2.0, 2.0)
	
#func init_position():
#	translation.x = rng.randf_range(X[\"min\"], X[\"max\"])
#	translation.y = rng.randf_range(Y[\"min\"], Y[\"max\"])
#
#func reset():
#	init_position()

#func dissolve():
#	$RigidBody.mode = RigidBody.MODE_KINEMATIC
#	$RigidBody.linear_velocity = 0
#	$RigidBody.angular_velocity = 0
	
"

[sub_resource type="SpatialMaterial" id=12]
albedo_color = Color( 1, 0.352941, 0.352941, 1 )

[sub_resource type="GDScript" id=23]
script/source = "extends RigidBody

const X = {
	\"max\": 1.6,
	\"min\": -1.5
}

const Y = {
	\"max\": 20.0,
	\"min\": 15.0
}

var start_pos = Vector3()
var rng = RandomNumberGenerator.new()

func _ready():
	rng.randomize()
	init_velocity()

func _process(delta):
	if linear_velocity == Vector3.ZERO:
		init_velocity()

func init_velocity():
	linear_velocity.x = rng.randf_range(-2.0, 2.0)
	linear_velocity.y = rng.randf_range(-2.0, 2.0)
	
#func init_position():
#	translation.x = rng.randf_range(X[\"min\"], X[\"max\"])
#	translation.y = rng.randf_range(Y[\"min\"], Y[\"max\"])
#
#func reset():
#	init_position()

#func dissolve():
#	$RigidBody.mode = RigidBody.MODE_KINEMATIC
#	$RigidBody.linear_velocity = 0
#	$RigidBody.angular_velocity = 0
	
"

[sub_resource type="SpatialMaterial" id=15]
albedo_color = Color( 1, 0.866667, 0.352941, 1 )

[sub_resource type="GDScript" id=24]
script/source = "extends RigidBody

const X = {
	\"max\": 1.6,
	\"min\": -1.5
}

const Y = {
	\"max\": 20.0,
	\"min\": 15.0
}

var start_pos = Vector3()
var rng = RandomNumberGenerator.new()

func _ready():
	rng.randomize()
	init_velocity()

func _process(delta):
	if linear_velocity == Vector3.ZERO:
		init_velocity()

func init_velocity():
	linear_velocity.x = rng.randf_range(-2.0, 2.0)
	linear_velocity.y = rng.randf_range(-2.0, 2.0)
	
#func init_position():
#	translation.x = rng.randf_range(X[\"min\"], X[\"max\"])
#	translation.y = rng.randf_range(Y[\"min\"], Y[\"max\"])
#
#func reset():
#	init_position()

#func dissolve():
#	$RigidBody.mode = RigidBody.MODE_KINEMATIC
#	$RigidBody.linear_velocity = 0
#	$RigidBody.angular_velocity = 0
	
"

[sub_resource type="SpatialMaterial" id=16]
albedo_color = Color( 0.352941, 1, 0.392157, 1 )

[node name="SpatialTest" type="Spatial"]
script = ExtResource( 5 )

[node name="Cameras" type="Spatial" parent="."]

[node name="Camera2" type="Camera" parent="Cameras"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.086, 8.126 )
fov = 44.0

[node name="Camera" type="Camera" parent="Cameras"]
transform = Transform( 0.843092, -0.148673, 0.51681, 0.00231708, 0.96202, 0.272969, -0.537764, -0.22894, 0.811416, 9.972, 8.405, 13 )
current = true
fov = 36.9
near = 0.03
far = 101.7

[node name="Camera3" type="Camera" parent="Cameras"]
transform = Transform( 1, 0, 0, 0, 0.906308, -0.422618, 0, 0.422618, 0.906308, 0, 0, 3.894 )
fov = 61.9

[node name="Camera4" type="Camera" parent="Cameras"]
transform = Transform( 0.876827, 0.127017, -0.463724, 0, 0.964474, 0.264176, 0.480805, -0.231637, 0.845678, -22.161, 16.17, 26.664 )
fov = 37.0

[node name="Specks" type="Spatial" parent="."]
transform = Transform( 0.977867, -0.209226, 0, 0.209226, 0.977867, 0, 0, 0, 1, 0, 0, 0 )

[node name="Particles" type="Particles" parent="Specks"]
transform = Transform( 0.987737, 0.15564, 0.0123685, -0.155964, 0.987239, 0.0321488, -0.007207, -0.0336836, 0.999407, 0.737004, -0.21572, -1.22511 )
amount = 30
lifetime = 1.5
speed_scale = 0.25
visibility_aabb = AABB( -4, -4, -9.07277, 8, 8, 18.1455 )
process_material = SubResource( 17 )
draw_pass_1 = SubResource( 19 )

[node name="StaticBody" type="StaticBody" parent="."]
physics_material_override = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.12264, 0 )
shape = SubResource( 1 )

[node name="HStack" parent="." instance=ExtResource( 1 )]
transform = Transform( 0.794246, 0.423288, 7.11714e-08, -0.415305, 0.779268, 0.173963, 0.0818183, -0.153522, 0.883027, -1.515, 3.2751, -1.16342 )

[node name="AmpStack" parent="." instance=ExtResource( 2 )]
transform = Transform( 0.794246, 0.423288, 7.11714e-08, -0.415305, 0.779268, 0.173963, 0.0818183, -0.153522, 0.883027, 0, 4.80439, -1.16342 )

[node name="OStack" parent="." instance=ExtResource( 3 )]
transform = Transform( 0.794246, 0.423288, 7.11714e-08, -0.415305, 0.779268, 0.173963, 0.0818183, -0.153522, 0.883027, 2.06799, 4.86316, -1.16342 )

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.291103, 3.13626, -2.4349 )
width = 77.0719
height = 44.2168
material = SubResource( 4 )

[node name="Frame" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.16342 )

[node name="StaticBodyBase" type="StaticBody" parent="Frame"]
physics_material_override = SubResource( 7 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyBase"]
shape = SubResource( 5 )

[node name="CSGBox" type="CSGBox" parent="Frame/StaticBodyBase"]
width = 6.83773
height = 0.609071
depth = 0.4
material = SubResource( 6 )

[node name="StaticBodyTop" type="StaticBody" parent="Frame"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.595229, 6.22342, 0 )
physics_material_override = SubResource( 7 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyTop"]
shape = SubResource( 5 )

[node name="CSGBox" type="CSGBox" parent="Frame/StaticBodyTop"]
width = 6.83773
height = 0.609071
depth = 0.4
material = SubResource( 6 )

[node name="StaticBodyLeft" type="StaticBody" parent="Frame"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -3.116, 3.11, 0 )
physics_material_override = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyLeft"]
shape = SubResource( 5 )

[node name="CSGBox" type="CSGBox" parent="Frame/StaticBodyLeft"]
width = 6.83773
height = 0.609071
depth = 0.4
material = SubResource( 6 )

[node name="StaticBodyRight" type="StaticBody" parent="Frame"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.727, 3.10864, 0 )
physics_material_override = SubResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyRight"]
shape = SubResource( 5 )

[node name="CSGBox" type="CSGBox" parent="Frame/StaticBodyRight"]
width = 6.83773
height = 0.609071
depth = 0.4
material = SubResource( 6 )

[node name="StaticBodyFront" type="StaticBody" parent="Frame"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0258439 )
physics_material_override = SubResource( 26 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyFront"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.334461, 3.02058, 0.301248 )
shape = SubResource( 10 )

[node name="StaticBodyBack" type="StaticBody" parent="Frame"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.648749 )
physics_material_override = SubResource( 25 )

[node name="CollisionShape" type="CollisionShape" parent="Frame/StaticBodyBack"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.334461, 3.02058, 0.301248 )
shape = SubResource( 10 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.0718887, -0.764345, 0.640788, 0.994543, -0.00623101, 0.104143, -0.0756086, 0.644778, 0.760621, 14.353, 5.86795, 18.4472 )
light_energy = 1.006
light_indirect_energy = 1.244
light_specular = 0.335
shadow_enabled = true
directional_shadow_mode = 0
directional_shadow_split_1 = 0.552
directional_shadow_split_2 = 0.472
directional_shadow_split_3 = 0.574
directional_shadow_normal_bias = 0.362
directional_shadow_depth_range = 1
directional_shadow_max_distance = 168.3

[node name="Stick" type="RigidBody" parent="."]
transform = Transform( 0.910835, 0.412771, 0, -0.412771, 0.910835, 0, 0, 0, 1, 0.886922, 3.23551, -1.21986 )
mass = 0.00102041
gravity_scale = 0.0
script = SubResource( 21 )

[node name="CollisionShape" type="CollisionShape" parent="Stick"]
shape = SubResource( 11 )

[node name="CSGBox" type="CSGBox" parent="Stick"]
width = 1.64324
height = 0.172513
depth = 0.17373
material = SubResource( 13 )

[node name="Stick2" type="RigidBody" parent="."]
transform = Transform( 0.54673, -0.837309, 0, 0.837309, 0.54673, 0, 0, 0, 1, -1.17517, 1.80663, -1.21986 )
mass = 0.00102041
gravity_scale = 0.0
script = SubResource( 22 )

[node name="CollisionShape" type="CollisionShape" parent="Stick2"]
shape = SubResource( 11 )

[node name="CSGBox" type="CSGBox" parent="Stick2"]
width = 1.64324
height = 0.172513
depth = 0.17373
material = SubResource( 12 )

[node name="Stick3" type="RigidBody" parent="."]
transform = Transform( 0.54673, -0.837309, 0, 0.837309, 0.54673, 0, 0, 0, 1, 1.03914, 4.84867, -1.21986 )
mass = 0.00102041
gravity_scale = 0.0
script = SubResource( 23 )

[node name="CollisionShape" type="CollisionShape" parent="Stick3"]
shape = SubResource( 11 )

[node name="CSGBox" type="CSGBox" parent="Stick3"]
width = 1.64324
height = 0.172513
depth = 0.17373
material = SubResource( 15 )

[node name="Stick4" type="RigidBody" parent="."]
transform = Transform( 0.54673, -0.837309, 0, 0.837309, 0.54673, 0, 0, 0, 1, 2.3111, 2.53453, -1.21986 )
mass = 0.00102041
gravity_scale = 0.0
script = SubResource( 24 )

[node name="CollisionShape" type="CollisionShape" parent="Stick4"]
shape = SubResource( 11 )

[node name="CSGBox" type="CSGBox" parent="Stick4"]
width = 1.64324
height = 0.172513
depth = 0.17373
material = SubResource( 16 )

[node name="Timer" type="Timer" parent="."]
wait_time = 80.0
autostart = true

[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]
